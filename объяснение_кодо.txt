### –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞:

**1. `app.py`**  
üöÄ **–°–µ—Ä–¥—Ü–µ —Å–∏—Å—Ç–µ–º—ã** - –æ—Å–Ω–æ–≤–Ω–æ–π Flask-—Å–µ—Ä–≤–µ—Ä.  
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç CSV-—Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å  
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å: –∑–∞–≥—Ä—É–∑–∫–∞ ‚Üí –æ–±–æ–≥–∞—â–µ–Ω–∏–µ ‚Üí —Å–∫–æ—Ä–∏–Ω–≥  
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç  
- **–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞**:  
  ```python
  @app.route('/start-scoring', methods=['POST'])
  def start_scoring():
      # –ü–æ–ª—É—á–∞–µ–º —Ñ–∞–π–ª—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
      # –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É
      return jsonify({"status": "success", "result_file": "report.csv"})
  ```

**2. `config.py`**  
‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** - —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥.  
- –ü—É—Ç–∏ –∫ –ø–∞–ø–∫–∞–º (–∑–∞–≥—Ä—É–∑–∫–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –ª–æ–≥–∏)  
- –ö–ª—é—á–∏ API –¥–ª—è –≥–æ—Å.—Å–µ—Ä–≤–∏—Å–æ–≤  
- –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ –∏ —Ñ–ª–∞–≥–∏  
- **–ü—Ä–∏–º–µ—Ä**:  
  ```python
  class Config:
      UPLOAD_FOLDER = 'data/uploads'
      FSSP_URL = 'https://fssp.gov.ru/api/search'
      SECRET_KEY = os.getenv('SECRET_KEY')
  ```

---

**3. `database/`**  
üóÑÔ∏è **–†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö**  

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `database.py` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏ –∫ PostgreSQL, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ |
| `migrations/001_initial.sql` | –°–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã: –ª–∏–¥—ã, –∏—Å—Ç–æ—Ä–∏—è —Å–∫–æ—Ä–∏–Ω–≥–∞, –æ—à–∏–±–∫–∏ |
| `migrations/002_add_ml_features.sql` | –î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—è –¥–ª—è ML: –¥–æ–ª–≥–∏, –∏–º—É—â–µ—Å—Ç–≤–æ, –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ |
| `migrations/003_add_normalized.sql` | –ù–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è –ø–æ–º–µ—Ç–∫–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö |

---

**4. `data_processing/`**  
üîß **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö**  

| –§–∞–π–ª | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
|------|------------|
| `data_loader.py` | –ó–∞–≥—Ä—É–∑–∫–∞ CSV-—Ñ–∞–π–ª–æ–≤, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö |
| `data_normalizer.py` | –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, –§–ò–û, –∞–¥—Ä–µ—Å–æ–≤ |
| `deduplicator.py` | –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–µ–π –ø–æ –ò–ù–ù/–§–ò–û+–¥–∞—Ç–µ —Ä–æ–∂–¥–µ–Ω–∏—è |

**–ü—Ä–∏–º–µ—Ä –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞**:  
```python
def normalize_phone(phone):
    # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç "8(999)123-45-67" ‚Üí "+79991234567"
```

---

**5. `enrichment/`**  
üåê **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≥–æ—Å.—Å–µ—Ä–≤–∏—Å–∞–º–∏**  

| –°–µ—Ä–≤–∏—Å | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç |
|--------|-----------|
| `fssp_service.py` | –î–æ–ª–≥–∏ —É —Å—É–¥–µ–±–Ω—ã—Ö –ø—Ä–∏—Å—Ç–∞–≤–æ–≤ |
| `fedresurs_service.py` | –°—Ç–∞—Ç—É—Å –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞ |
| `rosreestr_service.py` | –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ |
| `court_service.py` | –ê–∫—Ç–∏–≤–Ω—ã–µ —Å—É–¥–µ–±–Ω—ã–µ –¥–µ–ª–∞ |
| `tax_service.py` | –°—Ç–∞—Ç—É—Å –ò–ù–ù –∏ –Ω–∞–ª–æ–≥–æ–≤—ã–µ –¥–æ–ª–≥–∏ |
| `enricher.py` | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ |

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å**: –†–æ—Ç–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ –∏ User-Agent –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.

---

**6. `scoring/`**  
üìä **–°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ —Ä–∏—Å–∫–æ–≤**  

| –§–∞–π–ª | –ú–µ—Ç–æ–¥ –æ—Ü–µ–Ω–∫–∏ |
|------|--------------|
| `rule_based_scorer.py` | –ü—Ä–∞–≤–∏–ª–∞: "–î–æ–ª–≥ > 500–∫ = +30 –±–∞–ª–ª–æ–≤" |
| `ml_scorer.py` | CatBoost –º–æ–¥–µ–ª—å (ML) –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞ |

**–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥**:  
```python
final_score = (rule_score * 0.7) + (ml_score * 0.3)
```

---

**7. `utils/`**  
üß∞ **–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**  

| –£—Ç–∏–ª–∏—Ç–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---------|------------|
| `logger.py` | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–æ–≤ –≤ —Ñ–∞–π–ª –∏ –∫–æ–Ω—Å–æ–ª—å |
| `proxy_rotator.py` | –°–º–µ–Ω–∞ –ø—Ä–æ–∫—Å–∏ –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞—Ö |
| `file_utils.py` | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ |

---

**8. `ml_model/`**  
üß† **–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ**  

| –§–∞–π–ª | –†–æ–ª—å |
|------|------|
| `model.pkl` | –û–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å CatBoost |
| `train.py` | –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö |
| `predict.py` | –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ |

**–§–∏—á–∏ –º–æ–¥–µ–ª–∏**:  
- –°—É–º–º–∞ –¥–æ–ª–≥–∞  
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ª–≥–æ–≤  
- –ù–∞–ª–∏—á–∏–µ –∏–º—É—â–µ—Å—Ç–≤–∞  
- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ò–ù–ù  

---

**9. `templates/`**  
üé® **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**  

| –°—Ç—Ä–∞–Ω–∏—Ü–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `index.html` | –ì–ª–∞–≤–Ω–∞—è: –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ |
| `logs.html` | –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—à–∏–±–æ–∫ –æ–±–æ–≥–∞—â–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö |

---

**10. `scripts/`**  
üõ†Ô∏è **–°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**  

| –°–∫—Ä–∏–ø—Ç | –î–µ–π—Å—Ç–≤–∏–µ |
|--------|----------|
| `init_db.py` | –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø—Ä–∞–≤–∞ |
| `run_migrations.py` | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ SQL-–º–∏–≥—Ä–∞—Ü–∏–π |

---

**11. –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã**  

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|------------|
| `requirements.txt` | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python (Flask, Pandas, CatBoost) |
| `Dockerfile` | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| `docker-compose.yml` | –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è + PostgreSQL |
| `README.md` | –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∑–∞–ø—É—Å–∫—É |

### –ö–∞–∫ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç CSV —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å  
2. –°–∏—Å—Ç–µ–º–∞ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ —É–¥–∞–ª—è–µ—Ç –¥—É–±–ª–∏  
3. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –ø–æ 5 –≥–æ—Å.—Å–µ—Ä–≤–∏—Å–∞–º  
4. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∏—Å–∫ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞ (rule-based + ML)  
5. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ë–î –∏ –≤—ã–¥–∞–µ—Ç –æ—Ç—á–µ—Ç CSV  

üí° **–ö–ª—é—á–µ–≤–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ**: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—á–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–Ω—å—à–µ –∑–∞–Ω–∏–º–∞–ª–∏ —á–∞—Å—ã, —Ç–µ–ø–µ—Ä—å –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∑–∞ –º–∏–Ω—É—Ç—ã.

–í –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ç–µ—Ö–Ω–∏–∫–∏ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö:

### –û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
1. **BeautifulSoup** (bs4)
   - –î–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü
   - –ü—Ä–∏–º–µ—Ä –≤ `court_service.py`:
   ```python
   from bs4 import BeautifulSoup
   soup = BeautifulSoup(html, 'html.parser')
   results_table = soup.find('table', class_='results-table')
   ```

2. **Requests**
   - –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API –∏ —Å–∞–π—Ç–∞–º
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö (`fssp_service.py`, `fedresurs_service.py` –∏ –¥—Ä.)

3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ User-Agents**
   - –ß–µ—Ä–µ–∑ `fake-useragent` (—É–∫–∞–∑–∞–Ω –≤ requirements.txt)
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ `proxy_rotator.py`:
   ```python
   self.user_agents = [
       'Mozilla/5.0 (Windows NT 10.0; Win64; x64)...',
       'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)...'
   ]
   ```

### –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞:

1. **–†–∞–±–æ—Ç–∞ —Å JSON API**
   - –î–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º API (–§–µ–¥—Ä–µ—Å—É—Ä—Å, –§–ù–°):
   ```python
   # –í fedresurs_service.py
   response = requests.get(api_url, params={'searchString': inn})
   data = response.json()
   ```

2. **–ü–∞—Ä—Å–∏–Ω–≥ HTML-—Ç–∞–±–ª–∏—Ü**
   - –î–ª—è —Å—É–¥–µ–±–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –≤ `court_service.py`:
   ```python
   rows = results_table.find_all('tr')
   for row in rows:
       cells = row.find_all('td')
   ```

3. **–û–±—Ö–æ–¥ –∞–Ω—Ç–∏-–±–æ—Ç –∑–∞—â–∏—Ç—ã:**
   - –†–æ—Ç–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ (`proxy_rotator.py`)
   - –°–ª—É—á–∞–π–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏:
   ```python
   time.sleep(random.uniform(1, 3))
   ```
   - –°–º–µ–Ω–∞ User-Agent –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

4. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**
   - –í–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
   ```python
   self.cache = {}
   cache_key = f"tax_{lead.get('inn', '')}"
   if cache_key in self.cache:
       return self.cache[cache_key]
   ```

5. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏:**
   ```python
   for attempt in range(self.retry_count):
       try:
           # –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
       except Exception as e:
           logger.error(f"–û—à–∏–±–∫–∞ (–ø–æ–ø—ã—Ç–∫–∞ {attempt+1}): {str(e)}")
   ```

### –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

1. **–§–°–°–ü (fssp_service.py)**
   - –ü–∞—Ä—Å–∏–Ω–≥ JSON-–æ—Ç–≤–µ—Ç–∞
   - –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–ª–≥–æ–≤:
   ```python
   for debt in data['debts']:
       lead['debt_amount'] += debt['amount']
   ```

2. **–§–µ–¥—Ä–µ—Å—É—Ä—Å (fedresurs_service.py)**
   - –ü–æ–∏—Å–∫ –ø–æ –ò–ù–ù –≤ JSON API
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–ª–∞–≥–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞

3. **–†–æ—Å—Ä–µ–µ—Å—Ç—Ä (rosreestr_service.py)**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∏–º—É—â–µ—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ API
   - –ê–Ω–∞–ª–∏–∑ –º–∞—Å—Å–∏–≤–∞ properties –≤ JSON

4. **–°—É–¥—ã (court_service.py)**
   - –ü–∞—Ä—Å–∏–Ω–≥ HTML-—Ç–∞–±–ª–∏—Ü
   - –ê–Ω–∞–ª–∏–∑ –¥–∞—Ç —Å—É–¥–µ–±–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π

5. **–ù–∞–ª–æ–≥–æ–≤–∞—è (tax_service.py)**
   - –†–∞–±–æ—Ç–∞ —Å JSON API
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ò–ù–ù

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤–∞—à–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
1. **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
2. **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API –∏ HTML-–ø–∞—Ä—Å–∏–Ω–≥–∞**
3. **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫**
5. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** (—á–µ—Ä–µ–∑ ThreadPoolExecutor)

–≠—Ç–æ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–∞–∂–µ —Å –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ –±–ª–æ–∫–∏—Ä—É—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã.

–í –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ **REST API –ø–æ–¥—Ö–æ–¥** —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã –∏ —Ç–µ—Ö–Ω–∏–∫–∏:

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å API:

1. **GET-–∑–∞–ø—Ä–æ—Å—ã**  
   - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ 100% —Å–ª—É—á–∞–µ–≤ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö  
   - –ü—Ä–∏–º–µ—Ä –∏–∑ `fedresurs_service.py`:  
   ```python
   response = requests.get(
       f"{self.BASE_API_URL}{self.SEARCH_ENDPOINT}",
       params={'searchString': lead['inn']},  # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ URL
       proxies=proxy,
       headers=headers
   )
   ```

2. **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**  
   - –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ query-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã:  
   ```python
   # –í tax_service.py
   requests.get(f"{self.base_url}/inn/{lead['inn']}/status")
   ```

3. **JSON API**  
   - –†–∞–±–æ—Ç–∞ —Å –æ—Ç–≤–µ—Ç–∞–º–∏ –≤ JSON-—Ñ–æ—Ä–º–∞—Ç–µ:  
   ```python
   data = response.json()  # –í–æ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö
   ```

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

1. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**  
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ (`proxy_rotator.py`)  
   - –°–ª—É—á–∞–π–Ω—ã–µ User-Agents –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫  
   ```python
   headers = {
       'User-Agent': random.choice(user_agents),
       'Accept': 'application/json'
   }
   ```

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤**  
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTP-—Å—Ç–∞—Ç—É—Å–æ–≤:  
   ```python
   if response.status_code == 200:
       # –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
   elif response.status_code == 403:
       # –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ - –º–µ–Ω—è–µ–º –ø—Ä–æ–∫—Å–∏
   ```

3. **–ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**  
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ JSON-–æ–±—ä–µ–∫—Ç–æ–≤:  
   ```python
   # –í fssp_service.py
   for debt in data['debts']:
       amount = debt['amount']
   ```

### –°–ø–µ—Ü–∏—Ñ–∏–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

| –°–µ—Ä–≤–∏—Å | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã —Å API |
|--------|--------------------------|
| **–§–µ–¥—Ä–µ—Å—É—Ä—Å** | –ü–æ–∏—Å–∫ –ø–æ –ò–ù–ù ‚Üí –ê–Ω–∞–ª–∏–∑ –ø–æ–ª—è `'status': 'BANKRUPT'` |
| **–§–°–°–ü** | –ê–Ω–∞–ª–∏–∑ –≤–ª–æ–∂–µ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `data['debts']` |
| **–ù–∞–ª–æ–≥–æ–≤–∞—è** | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–µ–π: `status`, `debt`, `is_wanted` |
| **–†–æ—Å—Ä–µ–µ—Å—Ç—Ä** | –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Å—Å–∏–≤–∞ `properties` –≤ JSON-–æ—Ç–≤–µ—Ç–µ |
| **–°—É–¥—ã** | –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å —Å HTML-–ø–∞—Ä—Å–∏–Ω–≥–æ–º (–Ω–µ API) |

### –ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:

1. **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π —Ä–µ—Ç—Ä–∞–π**  
   ```python
   for attempt in range(3):  # 3 –ø–æ–ø—ã—Ç–∫–∏
       try:
           # –ó–∞–ø—Ä–æ—Å –∫ API
           break  # –£—Å–ø–µ—Ö - –≤—ã—Ö–æ–¥–∏–º
       except Exception:
           time.sleep(2 ** attempt)  # –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
   ```

2. **–ö–µ—à–∏—Ä—É—é—â–∏–π —Å–ª–æ–π**  
   ```python
   # –í rosreestr_service.py
   cache_key = f"rosreestr_{lead.get('inn', '')}"
   if cache_key in self.cache:
       return self.cache[cache_key]  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–µ—à
   ```

3. **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫**  
   ```python
   except requests.exceptions.RequestException as e:
       logger.error(f"–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: {str(e)}")
       return None  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
   ```

### –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥?

1. **–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ä–∏—Å–∫–æ–≤ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**  
   - –†–æ—Ç–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ –∏ User-Agent  
   - –õ–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤  

2. **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º API**  
   - –ò–∑–æ–ª—è—Ü–∏—è –ª–æ–≥–∏–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö  
   - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫  

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**  
   - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤  
   - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ ThreadPoolExecutor  

–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–∞–∂–µ —Å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö API —Å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–π –∑–∞—â–∏—Ç–æ–π –æ—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞.
